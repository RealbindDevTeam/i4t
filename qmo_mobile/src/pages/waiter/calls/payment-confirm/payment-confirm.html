<ion-header>
    <ion-navbar>
        <ion-title>
            {{ 'MOBILE.WAITER_CALL.PAY_CONFIRM' | translate }}
        </ion-title>
    </ion-navbar>
</ion-header>

<ion-content padding>
    <ion-item style="padding-left: 0;">
        <ion-avatar item-left>
            <img src="/assets/img/mesas.png">
        </ion-avatar>
        <h2>{{ 'MOBILE.WAITER_CALL.TABLE' | translate }} {{getTable(_call.table_id)}}</h2>
        <h2>{{'MOBILE.PAYMENTS.TOTAL_BILL' | translate}}: {{_ordersTotalPay}} COP</h2>
    </ion-item>
    <div *ngFor="let pay of _payments | async;">
        <ion-item-group style="margin: -1px -16px 0">
            <ion-item-divider  style="color: #000; background-color: #f4f4f4;">
                <h2>{{getUserDetail(pay.creation_user)}}</h2>

                <h2 item-right style="position: absolute; top: 0; right: 0;">{{pay.totalOrdersPrice}} COP</h2>
                
                <h3 *ngIf="pay.paymentMethodId == 10">{{'MOBILE.PAYMENTS.PAYMENT_METHOD' | translate}}: {{'PAYMENT_METHODS.CASH' | translate}}</h3>
                <h3 *ngIf="pay.paymentMethodId == 20">{{'MOBILE.PAYMENTS.PAYMENT_METHOD' | translate}}: {{'PAYMENT_METHODS.CREDIT_CARD' | translate}}</h3>
                <h3 *ngIf="pay.paymentMethodId == 30">{{'MOBILE.PAYMENTS.PAYMENT_METHOD' | translate}}: {{'PAYMENT_METHODS.DEBIT_CARD' | translate}}</h3>

                <h3 *ngIf="pay.totalTip > 0">{{'MOBILE.PAYMENTS.TIP' | translate}}: {{pay.totalTip}} COP</h3>
            </ion-item-divider>
        </ion-item-group>

        <payment-detail-confirm *ngFor="let orderId of pay.orders" [orderId]="orderId"></payment-detail-confirm>
    </div>
</ion-content>

<ion-footer padding>
    <h3 style="display: inline-block;">{{'MOBILE.PAYMENTS.TOTAL_PAY' | translate}}</h3>
    <h3 style="display: inline-block; position: absolute; right: 15px; -webkit-margin-before: 0em;">{{_totalPayment}} COP</h3>
    <div>
        <button ion-button block (click)="showComfirmPay()">{{'MOBILE.WAITER_CALL.PAY_CLOSE' | translate}}</button>
    </div>
    <div showWhen="ios" style="height: 42px">
    </div>
</ion-footer>