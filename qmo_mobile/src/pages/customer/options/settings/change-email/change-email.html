<ion-header>
    <ion-toolbar>
        <ion-title>{{'MOBILE.SETTINGS.CHANGE_EMAIL' | translate}}</ion-title>
        <ion-buttons start>
            <button ion-button (click)="cancel()">
                <span ion-text showWhen="ios">Cancel</span>
                <ion-icon name="md-close" showWhen="android,windows"></ion-icon>
            </button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>

<ion-content padding>
    <div [formGroup]="_emailEditForm" novalidate>
        <ion-list>
            <ion-item>
                <ion-label stacked>{{'MOBILE.EMAIL' | translate}}</ion-label>
                <ion-input formControlName="email"></ion-input>
            </ion-item>
            <div *ngIf="_emailEditForm.controls['email'].hasError('invalidEmailAddress') && _emailEditForm.controls['email'].touched" class="error-message">{{'MOBILE.SIGNUP.REQUIRED_EMAIL' | translate}}</div>
            <div *ngIf="_emailEditForm.controls['email'].hasError('minlength') && _emailEditForm.controls['email'].touched" class="error-message">{{'MOBILE.SIGNUP.MIN_LENGTH_EMAIL' | translate}}</div>
            <div *ngIf="_emailEditForm.controls['email'].hasError('maxlength') && _emailEditForm.controls['email'].touched" class="error-message">{{'MOBILE.SIGNUP.MAX_LENGTH_EMAIL' | translate}}</div>
            <ion-item>
                <ion-label stacked>{{'MOBILE.PASSWORD' | translate}}</ion-label>
                <ion-input type="password" formControlName="password"></ion-input>
            </ion-item>
            <div *ngIf="_emailEditForm.controls['password'].hasError('minlength') && _emailEditForm.controls['password'].touched" class="error-message">{{'MOBILE.SIGNUP.MIN_LENGTH_PASSWORD' | translate}}</div>
            <div *ngIf="_emailEditForm.controls['password'].hasError('maxlength') && _emailEditForm.controls['password'].touched" class="error-message">{{'MOBILE.SIGNUP.MAX_LENGTH_PASSWORD' | translate}}</div>
            <div *ngIf="_emailEditForm.controls['password'].hasError('required') && _emailEditForm.controls['password'].touched" class="error-message">{{'MOBILE.SIGNUP.REQUIRED_PASSWORD' | translate}}</div>
            <ion-item>
                <ion-label stacked>{{'MOBILE.SETTINGS.NEW_EMAIL' | translate}}</ion-label>
                <ion-input formControlName="new_email"></ion-input>
            </ion-item>
            <div *ngIf="_emailEditForm.controls['new_email'].hasError('invalidEmailAddress') && _emailEditForm.controls['new_email'].touched" class="error-message">{{'MOBILE.SIGNUP.REQUIRED_EMAIL' | translate}}</div>
            <div *ngIf="_emailEditForm.controls['new_email'].hasError('minlength') && _emailEditForm.controls['new_email'].touched" class="error-message">{{'MOBILE.SIGNUP.MIN_LENGTH_EMAIL' | translate}}</div>
            <div *ngIf="_emailEditForm.controls['new_email'].hasError('maxlength') && _emailEditForm.controls['new_email'].touched" class="error-message">{{'MOBILE.SIGNUP.MAX_LENGTH_EMAIL' | translate}}</div>
            <ion-item>
                <ion-label stacked>{{'MOBILE.SETTINGS.CONFIRM_NEW_EMAIL' | translate}}</ion-label>
                <ion-input formControlName="confirm_new_email"></ion-input>
            </ion-item>
            <div *ngIf="_emailEditForm.controls['confirm_new_email'].hasError('invalidEmailAddress') && _emailEditForm.controls['confirm_new_email'].touched" class="error-message">{{'MOBILE.SIGNUP.REQUIRED_EMAIL' | translate}}</div>
            <div *ngIf="_emailEditForm.controls['confirm_new_email'].hasError('minlength') && _emailEditForm.controls['confirm_new_email'].touched" class="error-message">{{'MOBILE.SIGNUP.MIN_LENGTH_EMAIL' | translate}}</div>
            <div *ngIf="_emailEditForm.controls['confirm_new_email'].hasError('maxlength') && _emailEditForm.controls['confirm_new_email'].touched" class="error-message">{{'MOBILE.SIGNUP.MAX_LENGTH_EMAIL' | translate}}</div>
            <button ion-button block class="button-primary" type="submit" (click)="changeEmail()">{{'MOBILE.MODIFY' | translate}}</button>
        </ion-list>
    </div>
</ion-content>