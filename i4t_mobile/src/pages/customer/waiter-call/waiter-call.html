<ion-header>

  <ion-navbar>
      <ion-title>
          <img id="signup-logo" src="assets/img/logo_iurest_mobile_white.png">
      </ion-title>
  </ion-navbar>

</ion-header>

<ion-content>
    <div *ngIf="!_userRestaurant" padding>
        <div class="img">
            <img src="assets/img/celular_llamado_mesero.png">
        </div>
        <div style="text-align: center">
            <h1>{{'MOBILE.WAITER_CALL.THERE_IS_NOT_CODE_REST' | translate}}</h1>
            <p>{{'MOBILE.WAITER_CALL.THERE_IS_NOT_CODE_REST_INS' | translate}}}}</p>
        </div>
    </div>

    <div *ngIf="_userRestaurant && (_waiters | async)?.length <= 0" padding>
        <div class="img">
            <img src="assets/img/no-waiters.png">
        </div>
        <div style="text-align: center">
            <h1>{{'MOBILE.WAITER_CALL.NO_WAITERS' | translate}}</h1>
        </div>
    </div>

    <div *ngIf="_userRestaurant && !_validatedWaterCall && (_waiters | async)?.length > 0" class="main" (click)="addWaiterCall()">
        <div id="call_action" class="circle">
            <div class="bounce">
                <ion-icon name="hand"></ion-icon>
            </div>
            <div class="circle_action"></div>
            <img class="img i1" src="assets/img/mesero.png">
        </div>
    </div>
    <div *ngIf="_userRestaurant && !_validatedWaterCall && (_waiters | async)?.length > 0" class="description" padding>
        <p>{{'MOBILE.WAITER_CALL.CONTENT' | translate}}</p>
    </div>

    <svg id="loading" class="img" *ngIf="_userRestaurant && _validatedWaterCall && (_waiters | async)?.length > 0">
        <g>
            <path d="m 4.8397464,4.0671811 q -0.945,1.575 -2.61,1.575 -0.72,0 -1.35000004,-0.315 -0.675,-0.405 -1.035,-1.035 -0.36,-0.675 -0.36,-1.44 0,-0.855 0.405,-1.53 0.405,-0.76500001 1.12500004,-1.17000001 0.72,-0.45 1.485,-0.45 0.675,0 1.305,0.36 0.72,0.36 1.08,1.03500001 0.36,0.675 0.36,1.44 0,0.81 -0.405,1.53 z m 3.51,23.2199999 q -0.225,0.315 -0.765,0.54 -0.54,0.18 -1.08,0.09 -0.54,-0.09 -0.945,-0.54 -0.405,-0.495 -0.405,-1.575 l 0,-10.755 q 0,-1.35 0,-2.16 0.045,-0.855 0.09,-1.35 0.045,-0.54 0.09,-0.855 -2.79,0 -4.23,1.17 -1.44000004,1.17 -1.44000004,3.87 l -0.045,10.62 q 0,1.125 0.315,2.16 0.36,1.035 1.035,1.8 0.72000004,0.765 1.75500004,1.17 1.035,0.45 2.43,0.315 1.44,-0.09 2.115,-0.81 0.675,-0.765 0.9,-1.575 0.27,-0.945 0.18,-2.115 z"
                class="ld-i" 
                fill="#E53935"/>
            <path d="m 30.350528,22.067181 q 0,3.015 -0.9,4.905 -0.9,1.89 -2.34,2.97 -1.395,1.08 -3.15,1.485 -1.755,0.405 -3.465,0.405 -1.71,0 -3.465,-0.405 -1.755,-0.405 -3.195,-1.485 -1.395,-1.08 -2.295,-2.97 -0.855,-1.89 -0.855,-4.905 l 0.045,-6.345 q 0,-2.7 1.44,-3.825 1.485,-1.17 4.275,-1.17 -0.045,0.27 -0.09,0.81 -0.045,0.495 -0.09,1.35 0,0.855 0,2.205 l 0.045,6.975 q 0,1.89 0.36,3.06 0.36,1.125 0.945,1.755 0.63,0.63 1.35,0.855 0.765,0.225 1.53,0.225 0.765,0 1.485,-0.225 0.765,-0.225 1.35,-0.855 0.63,-0.63 0.99,-1.755 0.36,-1.17 0.36,-3.06 l 0.045,-6.345 q 0,-2.7 1.485,-3.825 1.485,-1.17 4.275,-1.17 -0.045,0.27 -0.09,0.81 -0.045,0.495 -0.09,1.35 0,0.855 0,2.205 l 0.045,6.975 z"
                class="ld-u" 
                fill="#E53935"
                id="path4166" />
            <path d="m 34.064434,20.492181 q 0,-3.015 0.855,-4.905 0.9,-1.935 2.295,-3.015 1.395,-1.08 3.105,-1.44 1.755,-0.405 3.465,-0.405 l 2.205,0 q 0.225,0.945 0.09,1.755 -0.09,0.675 -0.63,1.305 -0.495,0.63 -1.665,0.765 -0.765,0.09 -1.53,0.36 -0.72,0.225 -1.305,0.855 -0.585,0.585 -0.99,1.71 -0.36,1.125 -0.36,3.015 l 0,6.525 q 0,1.35 0,2.205 0.045,0.81 0.09,1.305 0.045,0.54 0.09,0.81 -2.745,0 -4.23,-1.125 -1.485,-1.17 -1.485,-3.87 l 0,-5.85 z"
                class="ld-r" 
                fill="#E53935"
                id="path4168" />
            <path d="m 63.900137,26.972181 q 0.54,0.315 1.035,1.08 l 0.135,0.135 -0.135,0.135 q -1.485,1.62 -3.555,2.565 -2.025,0.9 -4.41,0.9 -2.07,0 -3.915,-0.81 -1.8,-0.855 -3.195,-2.34 -1.35,-1.44 -2.16,-3.375 -0.765,-1.98 -0.765,-4.23 0,-2.25 0.675,-4.185 0.72,-1.98 2.025,-3.465 1.305,-1.44 3.15,-2.295 1.89,-0.855 4.185,-0.855 1.26,0 2.745,0.405 1.53,0.36 2.835,1.215 1.305,0.81 2.16,2.16 0.855,1.35 0.855,3.24 0,1.845 -0.945,3.015 -0.945,1.125 -2.25,1.8 -1.305,0.63 -2.79,0.9 -1.44,0.225 -2.52,0.225 -1.665,0 -2.925,-0.18 -1.215,-0.225 -1.665,-0.315 0.18,1.62 0.72,2.655 0.54,0.99 1.215,1.575 0.675,0.585 1.35,0.81 0.675,0.18 1.215,0.18 0.945,0 1.8,-0.18 0.855,-0.18 1.53,-0.405 0.675,-0.225 1.26,-0.45 0.63,-0.225 1.215,-0.225 0.63,0 1.125,0.315 z m -6.93,-12.915 q -0.495,0.045 -1.17,0.27 -0.675,0.18 -1.35,0.72 -0.63,0.54 -1.17,1.53 -0.54,0.99 -0.765,2.52 0.72,0.225 2.025,0.45 1.35,0.18 2.655,0.045 1.35,-0.135 2.34,-0.765 1.035,-0.63 1.125,-2.115 0.09,-1.125 -0.9,-1.935 -0.945,-0.81 -2.79,-0.72 z"
                class="ld-e" 
                fill="#E53935"
                id="path4170" />
            <path d="m 78.650996,26.072181 q 0.09,-0.765 -0.45,-1.26 -0.495,-0.54 -1.485,-0.99 -0.945,-0.495 -2.25,-1.035 -1.305,-0.54 -2.745,-1.44 -1.08,-0.63 -1.8,-1.485 -0.675,-0.9 -0.99,-1.89 -0.315,-1.035 -0.27,-2.07 0.045,-1.08 0.495,-2.115 0.45,-0.99 1.17,-1.665 0.72,-0.675 1.575,-1.08 0.9,-0.45 1.8,-0.63 0.9,-0.18 1.665,-0.18 l 0.54,0 q 2.385,0.135 4.365,1.17 1.98,1.035 3.375,2.745 l 0.135,0.135 -0.135,0.18 q -0.45,0.63 -0.99,0.945 -0.495,0.315 -1.125,0.315 -0.63,0 -1.215,-0.225 -0.585,-0.27 -1.26,-0.54 -0.855,-0.36 -1.62,-0.585 -0.72,-0.27 -1.485,-0.27 -0.99,0 -1.485,0.45 -0.495,0.405 -0.585,0.99 -0.09,0.855 0.54,1.44 0.63,0.54 1.845,1.035 1.395,0.585 2.97,1.305 1.575,0.675 2.79,1.71 1.215,0.99 1.845,2.43 0.63,1.395 0.135,3.42 -0.225,0.81 -0.765,1.71 -0.54,0.855 -1.53,1.575 -0.945,0.72 -2.34,1.17 -1.35,0.495 -3.195,0.495 -0.36,0 -0.585,-0.045 -2.16,-0.09 -4.275,-1.125 -2.07,-1.035 -3.465,-2.745 l -0.135,-0.135 0.135,-0.18 q 0.225,-0.36 0.495,-0.585 0.27,-0.225 0.495,-0.405 0.54,-0.27 1.08,-0.27 0.63,0 1.215,0.27 0.585,0.225 1.26,0.495 0.63,0.315 1.395,0.54 0.81,0.225 1.755,0.315 1.62,0 2.295,-0.63 0.72,-0.63 0.81,-1.26 z"
                class="ld-s" 
                fill="#E53935"
                id="path4172" />
            <path d="m 99.789043,27.377181 q 0,0.135 0.045,0.315 0.09,0.36 0.09,0.675 0,0.81 -0.36,1.485 -0.36,0.63 -0.99,1.08 -1.26,0.9 -3.06,0.9 -1.485,0 -2.925,-0.675 -1.44,-0.675 -2.61,-2.025 -1.17,-1.35 -1.89,-3.33 -0.675,-2.025 -0.675,-4.725 l 0.045,-13.0049999 q 0,-2.7 1.44,-3.87 1.44,-1.17 4.185,-1.17 -0.045,0.315 -0.09,0.855 -0.045,0.495 -0.09,1.35 0,0.81 0,2.16 l 0.045,2.8349999 6.03,0 q 0,2.025 -1.125,3.24 -1.125,1.215 -3.195,1.215 l -1.71,0 -0.045,6.39 q 0,1.89 0.315,3.195 0.36,1.26 0.945,2.07 1.215,1.53 3.15,1.53 0.81,0 1.62,-0.225 0.45,-0.135 0.855,-0.27 z"
                class="ld-t" 
                fill="#E53935"
                id="path4174" />
        </g>
    </svg>
    <svg *ngIf="_userRestaurant && _validatedWaterCall && (_waiters | async)?.length > 0" width='182px' height='182px' xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" class="uil-ripple">
        <rect x="0" y="0" width="100" height="100" fill="none" class="bk"></rect>
        <g> 
            <animate attributeName="opacity" dur="4s" repeatCount="indefinite" begin="0s" keyTimes="0;0.33;1" values="1;1;0"></animate>
            <circle cx="50" cy="50" r="40" stroke="#eeeeee" fill="none" stroke-width="2" stroke-linecap="round">
                <animate attributeName="r" dur="4s" repeatCount="indefinite" begin="0s" keyTimes="0;0.33;1" values="0;22;44"></animate>
            </circle>
        </g>
        <g>
            <animate attributeName="opacity" dur="4s" repeatCount="indefinite" begin="2s" keyTimes="0;0.33;1" values="1;1;0"></animate>
            <circle cx="50" cy="50" r="40" stroke="#eeeeee" fill="none" stroke-width="2" stroke-linecap="round">
                <animate attributeName="r" dur="4s" repeatCount="indefinite" begin="2s" keyTimes="0;0.33;1" values="0;22;44"></animate>
            </circle>
        </g>
    </svg>
    <div *ngIf="_userRestaurant && _validatedWaterCall && (_waiters | async)?.length > 0" class="description" padding>
        <h1>{{'MOBILE.WAITER_CALL.RECEIVE_CALL' | translate}}</h1>
        <p>{{'MOBILE.WAITER_CALL.ONE_MOMENT' | translate}}</p>
        <button ion-button block outline type="submit" (click)="cancelWaiterCall()">
            {{'MOBILE.CANCEL' | translate}}
        </button>
    </div>
</ion-content>